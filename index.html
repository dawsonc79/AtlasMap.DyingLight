<!DOCTYPE = html>
<html style="height: 100%; margin: 0;">
<head>
	<title>Atlas Map: Neptunes Conclave</title>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">	

	<link rel="stylesheet" href="scripts/leaflet/leaflet.css">

	<script src="scripts/leaflet/leaflet.js"></script>
	<script src="scripts/js/layers.js"></script>
</head>
<body style="height: 100%; margin: 0;">
	<div id="map" style="width: 100%; height: 100%; background: #888888; margin: 0;"></div>

	<script type="text/javascript">
		// Variables
		var mapSW = [0, 32768],
			mapNE = [31768, 0];
		// Declare Map Object
		var map = L.map('map').setView([0, 0], 1);
		// Reference the tiles
		L.tileLayer('atlasMap/{z}/{x}/{y}.png', {
			minZoom: 2,
			maxZoom: 7,
			continuousWorld: false,
			noWrap: true,
			crs: L.CRS.Simple,
		}).addTo(map);

		map.setMaxBounds(new L.LatLngBounds(
			map.unproject(mapSW, map.getMaxZoom()),
			map.unproject(mapNE, map.getMaxZoom())
		));
		// Markers and Popups
		// LatLng
		var refmarker = L.marker([0, -150], {
			draggable: true,
		})
		.addTo(map);
		refmarker.bindPopup('');

		refmarker.on('dragend', function(e) {
  			refmarker.getPopup().setContent(refmarker.getLatLng().toString())
  			.openOn(map);
  		});

		// //Pixels
		// var base_1 = L.marker([7, -29])
		// 	base_1.bindPopup('Base 1');

		// var resource_1 = L.marker([-60, -30])
		// 	resource_1.bindPopup('Resource 1');

		// var ally_1 = L.marker([-25, 40])
		// 	ally_1.bindPopup('Ally 1');
		
		// var enemy_1 = L.marker([20, 56])
		// 	enemy_1.bindPopup('Enemy 1');

		// Layer Groups
		// var lg_DL = L.layerGroup([base_1]);

		// var lg_resources = L.layerGroup([resource_1]);

		// var lg_ally = L.layerGroup([ally_1]);

		// var lg_enemy = L.layerGroup([enemy_1]);

		// var overlays = {
		// 	"Dying Light" : lg_DL,
		// 	"Resources" : lg_resources,
		// 	"Allies" : lg_ally,
		// 	"Enemies" : lg_enemy
		// }

		// Add layer control
		L.control.layers(null, overlays).addTo(map);

	</script>
</body>
</html>