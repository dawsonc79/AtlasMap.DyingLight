<!DOCTYPE = html>
<html style="height: 100%; margin: 0;">
<head>
	<title>Atlas Map: Neptunes Conclave</title>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">	

	<link rel="stylesheet" href="scripts/leaflet/leaflet.css">

	<script src="scripts/leaflet/leaflet.js"></script>
</head>
<body style="height: 100%; margin: 0;">
	<div id="map" style="width: 100%; height: 100%; background: #888888; margin: 0;"></div>

	<script type="text/javascript">
		// Variables
		var mapSW = [0, 32768],
			mapNE = [31768, 0];
		// Declare Map Object
		var map = L.map('map').setView([0, 0], 1);
		// Reference the tiles
		L.tileLayer('atlasMap/{z}/{x}/{y}.png', {
			minZoom: 2,
			maxZoom: 7,
			continuousWorld: false,
			noWrap: true,
			crs: L.CRS.Simple,
		}).addTo(map);

		map.setMaxBounds(new L.LatLngBounds(
			map.unproject(mapSW, map.getMaxZoom()),
			map.unproject(mapNE, map.getMaxZoom())
		));
		// Markers and Popups
		// LatLng
		var marker = L.marker([0, -150], {
			draggable: true,
		}).addTo(map);
		marker.bindPopup('');
		//Pixels
		var marker_2 = L.marker([7, -29]). addTo(map);
		marker_2.bindPopup('marker 2');
		
  		marker.on('dragend', function(e) {
  			marker.getPopup().setContent('Clicked ' + marker.getLatLng().toString() + '<br />'
  				+ 'Pixels ' + map.project(marker.getLatLng(), map.getMaxZoom().toString))
  			.openOn(map);
  		});

	</script>
</body>
</html>